# Global configuration for the algo starter
data:

  # --- Optional auto-fetch (set auto_fetch: true and fill fields below) ---
  auto_fetch: false
  source: "crypto"          # "crypto" (ccxt) or "yahoo" (yfinance)
  symbol: "BTC/USDT"        # e.g., BTC/USDT (crypto) or SPY (yahoo)
  exchange: "binance"       # only for crypto
  interval: "1h"            # only for yahoo (e.g., 1m/5m/15m/1h/1d)
  start: null               # e.g., "2022-01-01"
  end: null
  limit: 5000               # crypto: max bars
  csv_path: "data/TEST_1h.csv"   # path to your OHLCV CSV
  datetime_col: "datetime"
  tz: "UTC"
  timeframe: "1H"                # 1min/5min/15min/1H/1D

backtest:
  cash: 100000
  commission: 0.0005            # 5 bps per trade
  slippage_bps: 2               # model 2 bps slippage per trade side
  stake_pct: 0.98               # allocate up to 98% of cash
  printlog: false

features:
  trend:
    sma: [20, 50, 200]
    ema: [12, 26, 50, 200]
    wma: [20]
    hma: [55]
    tema: [30]
    ichimoku: true
    psar: true
    supertrend:
      enabled: true
      length: 10
      multiplier: 3.0
    adx_dmi: true
    vortex: true
    donchian: [20, 55]
    chande_kroll: true
    linreg_slope: [50, 100]
  momentum:
    rsi: [14]
    stoch: [14]
    stochrsi: [14]
    macd:
      fast: 12
      slow: 26
      signal: 9
    ppo: true
    roc: [10]
    cci: [20]
    mfi: [14]
    williams_r: [14]
    ultimate: true
    tsi: true
  volatility:
    atr: [14]
    bollinger: [20]
    keltner: [20]
    donch_width: [20]
    chaikin_vol: true
    hv: [30]
    parkinson: true
    beta: false
    hv_ratio: [30]
  volume_flow:
    obv: true
    adl: true
    cmf: [20]
    ease_of_move: true
    volume_osc: true
    vwap: true
    anchored_vwap:
      enabled: false
      anchor_date: "2024-01-01"
    vpt: true
    nvi_pvi: true
    rvol: [20]
  price_patterns:
    pivots: true
    heikin_ashi: true
    fractals: true
    zigzag_pct: 5.0
    candle_patterns: true
  stats_ml:
    rolling_stats: [20, 60]
    zscore: [20]
    autocorr_lags: [1, 2, 5]
    returns: true
    percentile_range: [20]
    hmm_regimes: 0     # 0 to disable, else number of regimes (2 or 3)

signals:
  # Example entry/exit scoring weights (sum can be != 1; we normalize)
  weights:
    trend: 0.35
    momentum: 0.25
    volatility: 0.10
    volume_flow: 0.15
    price_patterns: 0.10
    stats_ml: 0.05
  thresholds:
    long_min_score: 0.65
    exit_score: 0.40   # if score drops below, consider exit

risk:
  atr_stop_mult: 2.0       # initial stop: entry - 2*ATR
  atr_trail_mult: 2.5      # trailing based on ATR
  time_stop_bars: 80       # exit if not progressed after N bars
  partial_tp:
    enabled: true
    tp1_rr: 1.5            # take 50% at 1.5R
    tp1_pct: 0.50
  kill_switch_dd_month: -0.08  # stop trading for the month if DD < -8%

walk_forward:
  train_bars: 5000
  test_bars: 1000
  rolling: true
